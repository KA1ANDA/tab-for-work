<form [formGroup]="reportForm">
  <div class="section">
    <div>
      <app-custom-input type="text" [icon]="userIcon" placeholder="მულტინაციონალური საწარმოთა ჯგუფის სახელწოდება"
        [disabled]="true"></app-custom-input>
      <app-custom-input type="text" [icon]="calendarIcon" placeholder="შესაბამისი ფისკალური წელი"
        [disabled]="true"></app-custom-input>
      <app-custom-input type="text" [icon]="curencyIcon" placeholder="გამოსაყენებელი ვალუტა *" [required]="true"
        [showError]="hasError" formControlName="currency"></app-custom-input>
    </div>
    <app-custom-input type="dropdown" [icon]="caseIcon" placeholder="საგადასახადო იურისდიქცია *" [required]="true"
      [showError]="hasError" [options]="jurisdictionOptions" optionValue="code" optionLabel="name" formControlName="jurisdiction"></app-custom-input>
  </div>

  <div class="section-header">
    შემოსავლები:
  </div>

  <div class="section">
    <div>
      <app-custom-input type="text" placeholder="დამოუკიდებელი მხარე *" [required]="true"
        [showError]="hasError" formControlName="independentParty"></app-custom-input>
      <app-custom-input type="text" placeholder="დამოკიდებული მხარე *" [required]="true"
        [showError]="hasError" formControlName="dependantParty"></app-custom-input>
      <app-custom-input type="text" placeholder="სულ *" [required]="true" formControlName="total" [showError]="hasError"></app-custom-input>
    </div>

    <div>
      <app-custom-input type="text" placeholder="მოგება ( ზარალი ) მოგების გადასახადმე *" [showError]="hasError" formControlName="profitBeforeTax"></app-custom-input>
      <app-custom-input type="text" placeholder="გადახდილი მოგების გადასახადი ( საკასო საფუძველზე ) *" [showError]="hasError" formControlName="paidTax"></app-custom-input>
      <app-custom-input type="text" placeholder="დარიცხული მოგების გადასახადი - მიმდინარე წელი *" [showError]="hasError" formControlName="currentYearTax"></app-custom-input>
      <app-custom-input type="text" placeholder="კაპიტალი *" [showError]="hasError" formControlName="capital"></app-custom-input>
      <app-custom-input type="text" placeholder="დაგროვილი მოგება *" [showError]="hasError" formControlName="accumulatedProfit"></app-custom-input>
      <app-custom-input type="text" placeholder="თანამშრომელთან რაოდენობა *" [showError]="hasError" formControlName="employeeCount"></app-custom-input>
      <app-custom-input type="text" placeholder="მატერიალური აქტივები (გარდა ნაღდი ფულის / მისი ექვივალენტისა)*" [showError]="hasError" formControlName="tangibleAssets"></app-custom-input>
    </div>

  </div>

  <p-button label="დამატება" (click)="addRecord()">
    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M11 7V15M7 11H15M21 11C21 16.5228 16.5228 21 11 21C5.47715 21 1 16.5228 1 11C1 5.47715 5.47715 1 11 1C16.5228 1 21 5.47715 21 11Z"
        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
    </svg>
  </p-button>
 <!-- Table to show added records -->
 <div class="data-table-container">
  <h3 class="table-header">დამატებული ჩანაწერები</h3>

  <p-table [value]="records" [paginator]="records.length > 10" [rows]="10" styleClass="p-datatable-sm p-datatable-striped" 
           [tableStyle]="{'min-width': '50rem'}" [scrollable]="true" scrollHeight="400px" responsiveLayout="scroll">
    <ng-template pTemplate="header">
      <tr>
        <th>საგადასახადო იურისდიქცია</th>
        <th>ვალუტა</th>
        <th>დამოუკიდებელი მხარე</th>
        <th>დამოკიდებული მხარე</th>
        <th>სულ</th>
        <th>მოგება</th>
    
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-record let-rowIndex="rowIndex">
      <tr>
        <td>{{record.jurisdiction?.name || record.jurisdiction}}</td>
        <td>{{record.currency}}</td>
        <td>{{record.independentParty}}</td>
        <td>{{record.dependentParty}}</td>
        <td>{{record.total}}</td>
        <td>{{record.profitBeforeTax}}</td>
     
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="7">ჩანაწერები არ არის.</td>
      </tr>
    </ng-template>
  </p-table>
</div>


</form>